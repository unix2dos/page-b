<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"www.readwrite.fun","root":"/","scheme":"Mist","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="0 第0章 万里长征第一步（非常重要）-如何愉快的阅读本小册0.3 关于工具 📌 还有各位写博客的同学，引用的少了叫借鉴，引用的多了就，就有点那个了。希望各位不要大段大段的复制粘贴，用自己的话写出来的知识才是自己的东西。  ⏱ 2023-09-05 18:21:16    0.6 关于转发1.2 MySQL的安装1.3 启动MySQL服务器程序1.4 启动MySQL客户端程序1.4.1 连接">
<meta property="og:type" content="website">
<meta property="og:title" content="《MySQL是怎样运行的：从根儿上理解MySQL》">
<meta property="og:url" content="https://www.readwrite.fun/booking/01%E8%BF%9B%E8%A1%8C%E4%B8%AD/old_dir/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84%EF%BC%9A%E4%BB%8E%E6%A0%B9%E5%84%BF%E4%B8%8A%E7%90%86%E8%A7%A3MySQL.html">
<meta property="og:site_name" content="趣读写">
<meta property="og:description" content="0 第0章 万里长征第一步（非常重要）-如何愉快的阅读本小册0.3 关于工具 📌 还有各位写博客的同学，引用的少了叫借鉴，引用的多了就，就有点那个了。希望各位不要大段大段的复制粘贴，用自己的话写出来的知识才是自己的东西。  ⏱ 2023-09-05 18:21:16    0.6 关于转发1.2 MySQL的安装1.3 启动MySQL服务器程序1.4 启动MySQL客户端程序1.4.1 连接">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://res.weread.qq.com/wrepub/CB_EsC8gC8hnBzr6T96U7_parsecover">
<meta property="article:published_time" content="2023-09-05T00:00:00.000Z">
<meta property="article:modified_time" content="2024-01-09T07:12:09.807Z">
<meta property="article:author" content="levon">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://res.weread.qq.com/wrepub/CB_EsC8gC8hnBzr6T96U7_parsecover">

<link rel="canonical" href="https://www.readwrite.fun/booking/01%E8%BF%9B%E8%A1%8C%E4%B8%AD/old_dir/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84%EF%BC%9A%E4%BB%8E%E6%A0%B9%E5%84%BF%E4%B8%8A%E7%90%86%E8%A7%A3MySQL.html">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : false,
    lang   : 'en'
  };
</script>

  <title>《MySQL是怎样运行的：从根儿上理解MySQL》 | 趣读写
</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">趣读写</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fas fa-home fa-fw"></i>Home</a>

  </li>
        
         
        <li class="menu-item menu-item-output">

    <a href="/categories/1-output/" rel="section"><i class="fas fa-feather fa-fw"></i>Output</a>

  </li>
        <li class="menu-item menu-item-study">

    <a href="/categories/2-study/" rel="section"><i class="fas fa-school fa-fw"></i>Study</a>

  </li>
        <li class="menu-item menu-item-book">

    <a href="/categories/3-book/" rel="section"><i class="fas fa-book fa-fw"></i>Book</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
  
  

          <div class="content page posts-expand">
            

    
    
    
    <div class="post-block" lang="en">
      <header class="post-header">

<h1 class="post-title" itemprop="name headline">《MySQL是怎样运行的：从根儿上理解MySQL》
</h1>

<div class="post-meta">
  
  <ul class="breadcrumb">
          
            <li><a href="/booking/">BOOKING</a></li>
            <li><a href="/booking/01%E8%BF%9B%E8%A1%8C%E4%B8%AD/">01进行中</a></li>
            <li><a href="/booking/01%E8%BF%9B%E8%A1%8C%E4%B8%AD/old_dir/">OLD_DIR</a></li>
            <li>MYSQL是怎样运行的：从根儿上理解MYSQL</li>
          
  </ul>

</div>

</header>

      
      
      
      <div class="post-body">
          <hr>
<p><img src="https://res.weread.qq.com/wrepub/CB_EsC8gC8hnBzr6T96U7_parsecover" alt=" MySQL是怎样运行的：从根儿上理解MySQL|200"></p>
<h2 id="0-第0章-万里长征第一步（非常重要）-如何愉快的阅读本小册"><a href="#0-第0章-万里长征第一步（非常重要）-如何愉快的阅读本小册" class="headerlink" title="0 第0章 万里长征第一步（非常重要）-如何愉快的阅读本小册"></a>0 第0章 万里长征第一步（非常重要）-如何愉快的阅读本小册</h2><h2 id="0-3-关于工具"><a href="#0-3-关于工具" class="headerlink" title="0.3 关于工具"></a>0.3 关于工具</h2><ul>
<li>📌 还有各位写博客的同学，引用的少了叫借鉴，引用的多了就，就有点那个了。希望各位不要大段大段的复制粘贴，用自己的话写出来的知识才是自己的东西。 <ul>
<li>⏱ 2023-09-05 18:21:16</li>
</ul>
</li>
</ul>
<h2 id="0-6-关于转发"><a href="#0-6-关于转发" class="headerlink" title="0.6 关于转发"></a>0.6 关于转发</h2><h2 id="1-2-MySQL的安装"><a href="#1-2-MySQL的安装" class="headerlink" title="1.2 MySQL的安装"></a>1.2 MySQL的安装</h2><h2 id="1-3-启动MySQL服务器程序"><a href="#1-3-启动MySQL服务器程序" class="headerlink" title="1.3 启动MySQL服务器程序"></a>1.3 启动MySQL服务器程序</h2><h2 id="1-4-启动MySQL客户端程序"><a href="#1-4-启动MySQL客户端程序" class="headerlink" title="1.4 启动MySQL客户端程序"></a>1.4 启动MySQL客户端程序</h2><h2 id="1-4-1-连接注意事项"><a href="#1-4-1-连接注意事项" class="headerlink" title="1.4.1 连接注意事项"></a>1.4.1 连接注意事项</h2><h2 id="1-5-客户端与服务器连接的过程"><a href="#1-5-客户端与服务器连接的过程" class="headerlink" title="1.5 客户端与服务器连接的过程"></a>1.5 客户端与服务器连接的过程</h2><h2 id="1-5-2-命名管道和共享内存"><a href="#1-5-2-命名管道和共享内存" class="headerlink" title="1.5.2 命名管道和共享内存"></a>1.5.2 命名管道和共享内存</h2><h2 id="1-6-1-连接管理"><a href="#1-6-1-连接管理" class="headerlink" title="1.6.1 连接管理"></a>1.6.1 连接管理</h2><h2 id="1-6-3-存储引擎"><a href="#1-6-3-存储引擎" class="headerlink" title="1.6.3 存储引擎"></a>1.6.3 存储引擎</h2><h2 id="1-7-常用存储引擎"><a href="#1-7-常用存储引擎" class="headerlink" title="1.7 常用存储引擎"></a>1.7 常用存储引擎</h2><h2 id="1-8-关于存储引擎的一些操作"><a href="#1-8-关于存储引擎的一些操作" class="headerlink" title="1.8 关于存储引擎的一些操作"></a>1.8 关于存储引擎的一些操作</h2><h2 id="1-8-2-设置表的存储引擎"><a href="#1-8-2-设置表的存储引擎" class="headerlink" title="1.8.2 设置表的存储引擎"></a>1.8.2 设置表的存储引擎</h2><h2 id="2-第2章-MySQL的调控按钮-启动选项和系统变量"><a href="#2-第2章-MySQL的调控按钮-启动选项和系统变量" class="headerlink" title="2 第2章 MySQL的调控按钮-启动选项和系统变量"></a>2 第2章 MySQL的调控按钮-启动选项和系统变量</h2><h2 id="2-1-在命令行上使用选项"><a href="#2-1-在命令行上使用选项" class="headerlink" title="2.1 在命令行上使用选项"></a>2.1 在命令行上使用选项</h2><h2 id="2-1-1-选项的长形式和短形式"><a href="#2-1-1-选项的长形式和短形式" class="headerlink" title="2.1.1 选项的长形式和短形式"></a>2.1.1 选项的长形式和短形式</h2><h2 id="2-2-2-配置文件的内容"><a href="#2-2-2-配置文件的内容" class="headerlink" title="2.2.2 配置文件的内容"></a>2.2.2 配置文件的内容</h2><h2 id="2-2-3-特定MySQL版本的专用选项组"><a href="#2-2-3-特定MySQL版本的专用选项组" class="headerlink" title="2.2.3 特定MySQL版本的专用选项组"></a>2.2.3 特定MySQL版本的专用选项组</h2><h2 id="2-2-6-defaults-file的使用"><a href="#2-2-6-defaults-file的使用" class="headerlink" title="2.2.6 defaults-file的使用"></a>2.2.6 defaults-file的使用</h2><h2 id="2-4-3-设置系统变量"><a href="#2-4-3-设置系统变量" class="headerlink" title="2.4.3 设置系统变量"></a>2.4.3 设置系统变量</h2><h2 id="2-4-4-启动选项和系统变量的区别"><a href="#2-4-4-启动选项和系统变量的区别" class="headerlink" title="2.4.4 启动选项和系统变量的区别"></a>2.4.4 启动选项和系统变量的区别</h2><h2 id="3-1-字符集和比较规则简介"><a href="#3-1-字符集和比较规则简介" class="headerlink" title="3.1 字符集和比较规则简介"></a>3.1 字符集和比较规则简介</h2><ul>
<li>📌 对于同一个字符，不同字符集也可能有不同的编码方式。比如对于汉字 ‘我’ 来说， ASCII 字符集中根本没有收录这个字符， utf8 和 gb2312 字符集对汉字 我 的编码方式如下：utf8编码：111001101000100010010001 (3个字节，十六进制表示是：0xE68891) gb2312编码：1100111011010010 (2个字节，十六进制表示是：0xCED2) <ul>
<li>⏱ 2023-09-05 18:25:24</li>
</ul>
</li>
</ul>
<h2 id="3-2-MySQL中支持的字符集和排序规则"><a href="#3-2-MySQL中支持的字符集和排序规则" class="headerlink" title="3.2 MySQL中支持的字符集和排序规则"></a>3.2 MySQL中支持的字符集和排序规则</h2><ul>
<li>📌 我们上边说 utf8 字符集表示一个字符需要使用1～4个字节，但是我们常用的一些字符使用1～3个字节就可以表示了。而在 MySQL 中字符集表示一个字符所用最大字节长度在某些方面会影响系统的存储和性能，所以设计 MySQL 的大叔偷偷的定义了两个概念：utf8mb3 ：阉割过的 utf8 字符集，只使用1～3个字节表示字符。utf8mb4 ：正宗的 utf8 字符集，使用1～4个字节表示字符。有一点需要大家十分的注意，在 MySQL 中 utf8 是 utf8mb3 的别名，所以之后在 MySQL 中提到 utf8 就意味着使用1~3个字节来表示一个字符，如果大家有使用4字节编码一个字符的情况，比如存储一些emoji表情啥的，那请使用 utf8mb4 。 <ul>
<li>⏱ 2023-09-05 18:25:53</li>
</ul>
</li>
</ul>
<h2 id="3-2-3-比较规则的查看"><a href="#3-2-3-比较规则的查看" class="headerlink" title="3.2.3 比较规则的查看"></a>3.2.3 比较规则的查看</h2><h2 id="3-3-字符集和比较规则的应用"><a href="#3-3-字符集和比较规则的应用" class="headerlink" title="3.3 字符集和比较规则的应用"></a>3.3 字符集和比较规则的应用</h2><ul>
<li><p>📌 比较规则名称以与其关联的字符集的名称开头。如上图的查询结果的比较规则名称都是以 utf8 开头的。后边紧跟着该比较规则主要作用于哪种语言，比如 utf8_polish_ci 表示以波兰语的规则比较，utf8_spanish_ci 是以西班牙语的规则比较， utf8_general_ci 是一种通用的比较规则。 </p>
<ul>
<li>⏱ 2023-09-05 18:31:49</li>
</ul>
</li>
<li><p>📌 比如 utf8_general_ci 这个比较规则是以 ci 结尾的，说明不区分大小写。 </p>
<ul>
<li>⏱ 2023-09-05 18:32:02</li>
</ul>
</li>
</ul>
<h2 id="3-3-1-各级别的字符集和比较规则"><a href="#3-3-1-各级别的字符集和比较规则" class="headerlink" title="3.3.1 各级别的字符集和比较规则"></a>3.3.1 各级别的字符集和比较规则</h2><ul>
<li><p>📌 可以看到在我的计算机中服务器级别默认的字符集是 utf8 ，默认的比较规则是 utf8_general_ci 。 </p>
<ul>
<li>⏱ 2023-09-05 18:27:42</li>
</ul>
</li>
<li><p>📌 由于字符集和比较规则是互相有联系的，如果我们只修改了字符集，比较规则也会跟着变化，如果只修改了比较规则，字符集也会跟着变化，具体规则如下：只修改字符集，则比较规则将变为修改后的字符集默认的比较规则。只修改比较规则，则字符集将变为修改后的比较规则对应的字符集。 </p>
<ul>
<li>⏱ 2023-09-05 18:29:13</li>
</ul>
</li>
</ul>
<h2 id="3-3-2-客户端和服务器通信中的字符集"><a href="#3-3-2-客户端和服务器通信中的字符集" class="headerlink" title="3.3.2 客户端和服务器通信中的字符集"></a>3.3.2 客户端和服务器通信中的字符集</h2><h2 id="3-3-3-比较规则的应用"><a href="#3-3-3-比较规则的应用" class="headerlink" title="3.3.3 比较规则的应用"></a>3.3.3 比较规则的应用</h2><h2 id="3-4-总结"><a href="#3-4-总结" class="headerlink" title="3.4 总结"></a>3.4 总结</h2><h2 id="4-第4章-从一条记录说起-InnoDB记录结构"><a href="#4-第4章-从一条记录说起-InnoDB记录结构" class="headerlink" title="4 第4章 从一条记录说起-InnoDB记录结构"></a>4 第4章 从一条记录说起-InnoDB记录结构</h2><h2 id="4-3-InnoDB行格式"><a href="#4-3-InnoDB行格式" class="headerlink" title="4.3 InnoDB行格式"></a>4.3 InnoDB行格式</h2><h2 id="4-3-2-COMPACT行格式"><a href="#4-3-2-COMPACT行格式" class="headerlink" title="4.3.2 COMPACT行格式"></a>4.3.2 COMPACT行格式</h2><h2 id="4-3-3-Redundant行格式"><a href="#4-3-3-Redundant行格式" class="headerlink" title="4.3.3 Redundant行格式"></a>4.3.3 Redundant行格式</h2><h2 id="4-3-4-行溢出数据"><a href="#4-3-4-行溢出数据" class="headerlink" title="4.3.4 行溢出数据"></a>4.3.4 行溢出数据</h2><h2 id="4-3-5-Dynamic和Compressed行格式"><a href="#4-3-5-Dynamic和Compressed行格式" class="headerlink" title="4.3.5 Dynamic和Compressed行格式"></a>4.3.5 Dynamic和Compressed行格式</h2><h2 id="5-第5章-盛放记录的大盒子-InnoDB数据页结构"><a href="#5-第5章-盛放记录的大盒子-InnoDB数据页结构" class="headerlink" title="5 第5章 盛放记录的大盒子-InnoDB数据页结构"></a>5 第5章 盛放记录的大盒子-InnoDB数据页结构</h2><h2 id="5-3-记录在页中的存储"><a href="#5-3-记录在页中的存储" class="headerlink" title="5.3 记录在页中的存储"></a>5.3 记录在页中的存储</h2><h2 id="5-3-1-记录头信息的秘密"><a href="#5-3-1-记录头信息的秘密" class="headerlink" title="5.3.1 记录头信息的秘密"></a>5.3.1 记录头信息的秘密</h2><h2 id="5-4-Page-Directory（页目录）"><a href="#5-4-Page-Directory（页目录）" class="headerlink" title="5.4 Page Directory（页目录）"></a>5.4 Page Directory（页目录）</h2><h2 id="5-5-Page-Header（页面头部）"><a href="#5-5-Page-Header（页面头部）" class="headerlink" title="5.5 Page Header（页面头部）"></a>5.5 Page Header（页面头部）</h2><h2 id="5-6-File-Header（文件头部）"><a href="#5-6-File-Header（文件头部）" class="headerlink" title="5.6 File Header（文件头部）"></a>5.6 File Header（文件头部）</h2><h2 id="5-7-File-Trailer"><a href="#5-7-File-Trailer" class="headerlink" title="5.7 File Trailer"></a>5.7 File Trailer</h2><h2 id="6-第6章-快速查询的秘籍-B-树索引"><a href="#6-第6章-快速查询的秘籍-B-树索引" class="headerlink" title="6 第6章 快速查询的秘籍-B+树索引"></a>6 第6章 快速查询的秘籍-B+树索引</h2><h2 id="6-1-2-在很多页中查找"><a href="#6-1-2-在很多页中查找" class="headerlink" title="6.1.2 在很多页中查找"></a>6.1.2 在很多页中查找</h2><h2 id="6-2-1-一个简单的索引方案"><a href="#6-2-1-一个简单的索引方案" class="headerlink" title="6.2.1 一个简单的索引方案"></a>6.2.1 一个简单的索引方案</h2><h2 id="6-2-2-InnoDB中的索引方案"><a href="#6-2-2-InnoDB中的索引方案" class="headerlink" title="6.2.2 InnoDB中的索引方案"></a>6.2.2 InnoDB中的索引方案</h2><h2 id="6-2-3-InnoDB的B-树索引的注意事项"><a href="#6-2-3-InnoDB的B-树索引的注意事项" class="headerlink" title="6.2.3 InnoDB的B+树索引的注意事项"></a>6.2.3 InnoDB的B+树索引的注意事项</h2><h2 id="6-2-4-MyISAM中的索引方案简单介绍"><a href="#6-2-4-MyISAM中的索引方案简单介绍" class="headerlink" title="6.2.4 MyISAM中的索引方案简单介绍"></a>6.2.4 MyISAM中的索引方案简单介绍</h2><h2 id="6-2-5-MySQL中创建和删除索引的语句"><a href="#6-2-5-MySQL中创建和删除索引的语句" class="headerlink" title="6.2.5 MySQL中创建和删除索引的语句"></a>6.2.5 MySQL中创建和删除索引的语句</h2><h2 id="7-1-索引的代价"><a href="#7-1-索引的代价" class="headerlink" title="7.1 索引的代价"></a>7.1 索引的代价</h2><h2 id="7-2-1-全值匹配"><a href="#7-2-1-全值匹配" class="headerlink" title="7.2.1 全值匹配"></a>7.2.1 全值匹配</h2><h2 id="7-2-2-匹配左边的列"><a href="#7-2-2-匹配左边的列" class="headerlink" title="7.2.2 匹配左边的列"></a>7.2.2 匹配左边的列</h2><h2 id="7-2-4-匹配范围值"><a href="#7-2-4-匹配范围值" class="headerlink" title="7.2.4 匹配范围值"></a>7.2.4 匹配范围值</h2><h2 id="7-2-6-用于排序"><a href="#7-2-6-用于排序" class="headerlink" title="7.2.6 用于排序"></a>7.2.6 用于排序</h2><h2 id="7-2-7-用于分组"><a href="#7-2-7-用于分组" class="headerlink" title="7.2.7 用于分组"></a>7.2.7 用于分组</h2><h2 id="7-3-1-覆盖索引"><a href="#7-3-1-覆盖索引" class="headerlink" title="7.3.1 覆盖索引"></a>7.3.1 覆盖索引</h2><ul>
<li>📌 只为用于搜索、排序或分组的列创建索引也就是说，只为出现在 WHERE 子句中的列、连接子句中的连接列，或者出现在 ORDER BY 或 GROUP BY 子句中的列创建索引。而出现在查询列表中的列就没必要建立索引了：SELECT birthday, country FROM person name WHERE name &#x3D; ‘Ashburn’; <ul>
<li>⏱ 2023-09-05 18:44:54</li>
</ul>
</li>
</ul>
<h2 id="7-4-2-考虑列的基数"><a href="#7-4-2-考虑列的基数" class="headerlink" title="7.4.2 考虑列的基数"></a>7.4.2 考虑列的基数</h2><ul>
<li>📌 y p _ ;像查询列表中的 birthday 、 country 这两个列就不需要建立索引，我们只需要为出现在 WHERE 子句中的 name列创建索引就可以了 <ul>
<li>⏱ 2023-09-05 18:45:22</li>
</ul>
</li>
</ul>
<h2 id="7-4-5-让索引列在比较表达式中单独出现"><a href="#7-4-5-让索引列在比较表达式中单独出现" class="headerlink" title="7.4.5 让索引列在比较表达式中单独出现"></a>7.4.5 让索引列在比较表达式中单独出现</h2><h2 id="7-4-7-冗余和重复索引"><a href="#7-4-7-冗余和重复索引" class="headerlink" title="7.4.7 冗余和重复索引"></a>7.4.7 冗余和重复索引</h2><ul>
<li>📌 KEY idx_name_birthday_phone_number (name(10), birthday, phone_number), KEY idx_name (name(10)) );我们知道，通过 idx_name_birthday_phone_number 索引就可以对 name 列进行快速搜索，再创建一个专门针对 name 列的索引就算是一个 冗余 索引，维护这个索引只会增加维护的成本，并不会对搜索有什么好处。 <ul>
<li>⏱ 2023-09-05 18:46:40</li>
</ul>
</li>
</ul>
<h2 id="7-5-总结"><a href="#7-5-总结" class="headerlink" title="7.5 总结"></a>7.5 总结</h2><h2 id="8-2-1-数据目录和安装目录的区别"><a href="#8-2-1-数据目录和安装目录的区别" class="headerlink" title="8.2.1 数据目录和安装目录的区别"></a>8.2.1 数据目录和安装目录的区别</h2><h2 id="8-3-2-表在文件系统中的表示"><a href="#8-3-2-表在文件系统中的表示" class="headerlink" title="8.3.2 表在文件系统中的表示"></a>8.3.2 表在文件系统中的表示</h2><h2 id="8-3-3-视图在文件系统中的表示"><a href="#8-3-3-视图在文件系统中的表示" class="headerlink" title="8.3.3 视图在文件系统中的表示"></a>8.3.3 视图在文件系统中的表示</h2><h2 id="9-第9章-存放页面的大池子-InnoDB的表空间"><a href="#9-第9章-存放页面的大池子-InnoDB的表空间" class="headerlink" title="9 第9章 存放页面的大池子-InnoDB的表空间"></a>9 第9章 存放页面的大池子-InnoDB的表空间</h2><h2 id="9-1-2-页面通用部分"><a href="#9-1-2-页面通用部分" class="headerlink" title="9.1.2 页面通用部分"></a>9.1.2 页面通用部分</h2><h2 id="9-2-独立表空间结构"><a href="#9-2-独立表空间结构" class="headerlink" title="9.2 独立表空间结构"></a>9.2 独立表空间结构</h2><h2 id="9-2-2-段（segment）的概念"><a href="#9-2-2-段（segment）的概念" class="headerlink" title="9.2.2 段（segment）的概念"></a>9.2.2 段（segment）的概念</h2><h2 id="9-2-3-区的分类"><a href="#9-2-3-区的分类" class="headerlink" title="9.2.3 区的分类"></a>9.2.3 区的分类</h2><h2 id="9-2-4-段的结构"><a href="#9-2-4-段的结构" class="headerlink" title="9.2.4 段的结构"></a>9.2.4 段的结构</h2><h2 id="9-2-5-各类型页面详细情况"><a href="#9-2-5-各类型页面详细情况" class="headerlink" title="9.2.5 各类型页面详细情况"></a>9.2.5 各类型页面详细情况</h2><h2 id="9-2-6-Segment-Header-结构的运用"><a href="#9-2-6-Segment-Header-结构的运用" class="headerlink" title="9.2.6 Segment Header 结构的运用"></a>9.2.6 Segment Header 结构的运用</h2><h2 id="9-2-7-真实表空间对应的文件大小"><a href="#9-2-7-真实表空间对应的文件大小" class="headerlink" title="9.2.7 真实表空间对应的文件大小"></a>9.2.7 真实表空间对应的文件大小</h2><h2 id="9-3-2-总结图"><a href="#9-3-2-总结图" class="headerlink" title="9.3.2 总结图"></a>9.3.2 总结图</h2><h2 id="10-第10章-条条大路通罗马-单表访问方法"><a href="#10-第10章-条条大路通罗马-单表访问方法" class="headerlink" title="10 第10章 条条大路通罗马-单表访问方法"></a>10 第10章 条条大路通罗马-单表访问方法</h2><h2 id="10-1-访问方法（access-method）的概念"><a href="#10-1-访问方法（access-method）的概念" class="headerlink" title="10.1 访问方法（access method）的概念"></a>10.1 访问方法（access method）的概念</h2><h2 id="10-2-const"><a href="#10-2-const" class="headerlink" title="10.2 const"></a>10.2 const</h2><h2 id="10-3-ref"><a href="#10-3-ref" class="headerlink" title="10.3 ref"></a>10.3 ref</h2><h2 id="10-4-ref-or-null"><a href="#10-4-ref-or-null" class="headerlink" title="10.4 ref_or_null"></a>10.4 ref_or_null</h2><h2 id="10-6-index"><a href="#10-6-index" class="headerlink" title="10.6 index"></a>10.6 index</h2><h2 id="10-8-1-重温-二级索引-回表"><a href="#10-8-1-重温-二级索引-回表" class="headerlink" title="10.8.1 重温 二级索引 + 回表"></a>10.8.1 重温 二级索引 + 回表</h2><h2 id="10-8-3-索引合并"><a href="#10-8-3-索引合并" class="headerlink" title="10.8.3 索引合并"></a>10.8.3 索引合并</h2><h2 id="11-第11章-两个表的亲密接触-连接的原理"><a href="#11-第11章-两个表的亲密接触-连接的原理" class="headerlink" title="11 第11章 两个表的亲密接触-连接的原理"></a>11 第11章 两个表的亲密接触-连接的原理</h2><h2 id="11-1-2-连接过程简介"><a href="#11-1-2-连接过程简介" class="headerlink" title="11.1.2 连接过程简介"></a>11.1.2 连接过程简介</h2><h2 id="11-1-3-内连接和外连接"><a href="#11-1-3-内连接和外连接" class="headerlink" title="11.1.3 内连接和外连接"></a>11.1.3 内连接和外连接</h2><h2 id="11-2-连接的原理"><a href="#11-2-连接的原理" class="headerlink" title="11.2 连接的原理"></a>11.2 连接的原理</h2><h2 id="11-2-2-使用索引加快连接速度"><a href="#11-2-2-使用索引加快连接速度" class="headerlink" title="11.2.2 使用索引加快连接速度"></a>11.2.2 使用索引加快连接速度</h2><h2 id="11-2-3-基于块的嵌套循环连接（Block-Nested-Loop-Join）"><a href="#11-2-3-基于块的嵌套循环连接（Block-Nested-Loop-Join）" class="headerlink" title="11.2.3 基于块的嵌套循环连接（Block Nested-Loop Join）"></a>11.2.3 基于块的嵌套循环连接（Block Nested-Loop Join）</h2><h2 id="12-第12章-谁最便宜就选谁-MySQL基于成本的优化"><a href="#12-第12章-谁最便宜就选谁-MySQL基于成本的优化" class="headerlink" title="12 第12章 谁最便宜就选谁-MySQL基于成本的优化"></a>12 第12章 谁最便宜就选谁-MySQL基于成本的优化</h2><h2 id="12-1-什么是成本"><a href="#12-1-什么是成本" class="headerlink" title="12.1 什么是成本"></a>12.1 什么是成本</h2><h2 id="12-2-3-基于索引统计数据的成本计算"><a href="#12-2-3-基于索引统计数据的成本计算" class="headerlink" title="12.2.3 基于索引统计数据的成本计算"></a>12.2.3 基于索引统计数据的成本计算</h2><h2 id="12-3-连接查询的成本"><a href="#12-3-连接查询的成本" class="headerlink" title="12.3 连接查询的成本"></a>12.3 连接查询的成本</h2><h2 id="12-3-3-两表连接的成本分析"><a href="#12-3-3-两表连接的成本分析" class="headerlink" title="12.3.3 两表连接的成本分析"></a>12.3.3 两表连接的成本分析</h2><h2 id="12-3-4-多表连接的成本分析"><a href="#12-3-4-多表连接的成本分析" class="headerlink" title="12.3.4 多表连接的成本分析"></a>12.3.4 多表连接的成本分析</h2><h2 id="12-4-1-mysql-server-cost表"><a href="#12-4-1-mysql-server-cost表" class="headerlink" title="12.4.1 mysql.server_cost表"></a>12.4.1 mysql.server_cost表</h2><h2 id="12-4-2-mysql-engine-cost表"><a href="#12-4-2-mysql-engine-cost表" class="headerlink" title="12.4.2 mysql.engine_cost表"></a>12.4.2 mysql.engine_cost表</h2><h2 id="13-第13章-兵马未动，粮草先行-InnoDB统计数据是如何收集的"><a href="#13-第13章-兵马未动，粮草先行-InnoDB统计数据是如何收集的" class="headerlink" title="13 第13章 兵马未动，粮草先行-InnoDB统计数据是如何收集的"></a>13 第13章 兵马未动，粮草先行-InnoDB统计数据是如何收集的</h2><h2 id="13-2-1-innodb-table-stats"><a href="#13-2-1-innodb-table-stats" class="headerlink" title="13.2.1 innodb_table_stats"></a>13.2.1 innodb_table_stats</h2><h2 id="13-2-2-innodb-index-stats"><a href="#13-2-2-innodb-index-stats" class="headerlink" title="13.2.2 innodb_index_stats"></a>13.2.2 innodb_index_stats</h2><h2 id="13-2-3-定期更新统计数据"><a href="#13-2-3-定期更新统计数据" class="headerlink" title="13.2.3 定期更新统计数据"></a>13.2.3 定期更新统计数据</h2><h2 id="和"><a href="#和" class="headerlink" title="和"></a>和</h2><h2 id="13-4-innodb-stats-method的使用"><a href="#13-4-innodb-stats-method的使用" class="headerlink" title="13.4 innodb_stats_method的使用"></a>13.4 innodb_stats_method的使用</h2><h2 id="13-5-总结"><a href="#13-5-总结" class="headerlink" title="13.5 总结"></a>13.5 总结</h2><h2 id="14-1-3-等值传递（equality-propagation）"><a href="#14-1-3-等值传递（equality-propagation）" class="headerlink" title="14.1.3 等值传递（equality_propagation）"></a>14.1.3 等值传递（equality_propagation）</h2><h2 id="14-1-6-HAVING子句和WHERE子句的合并"><a href="#14-1-6-HAVING子句和WHERE子句的合并" class="headerlink" title="14.1.6 HAVING子句和WHERE子句的合并"></a>14.1.6 HAVING子句和WHERE子句的合并</h2><h2 id="14-3-子查询优化"><a href="#14-3-子查询优化" class="headerlink" title="14.3 子查询优化"></a>14.3 子查询优化</h2><h2 id="14-3-2-子查询在MySQL中是怎么执行的"><a href="#14-3-2-子查询在MySQL中是怎么执行的" class="headerlink" title="14.3.2 子查询在MySQL中是怎么执行的"></a>14.3.2 子查询在MySQL中是怎么执行的</h2><h2 id="15-第15章-查询优化的百科全书-Explain详解（上）"><a href="#15-第15章-查询优化的百科全书-Explain详解（上）" class="headerlink" title="15 第15章 查询优化的百科全书-Explain详解（上）"></a>15 第15章 查询优化的百科全书-Explain详解（上）</h2><h2 id="15-1-执行计划输出中各列详解"><a href="#15-1-执行计划输出中各列详解" class="headerlink" title="15.1 执行计划输出中各列详解"></a>15.1 执行计划输出中各列详解</h2><h2 id="15-1-2-id"><a href="#15-1-2-id" class="headerlink" title="15.1.2 id"></a>15.1.2 id</h2><h2 id="15-1-3-select-type"><a href="#15-1-3-select-type" class="headerlink" title="15.1.3 select_type"></a>15.1.3 select_type</h2><h2 id="15-1-4-partitions"><a href="#15-1-4-partitions" class="headerlink" title="15.1.4 partitions"></a>15.1.4 partitions</h2><h2 id="15-1-6-possible-keys和key"><a href="#15-1-6-possible-keys和key" class="headerlink" title="15.1.6 possible_keys和key"></a>15.1.6 possible_keys和key</h2><h2 id="15-1-7-key-len"><a href="#15-1-7-key-len" class="headerlink" title="15.1.7 key_len"></a>15.1.7 key_len</h2><h2 id="15-1-8-ref"><a href="#15-1-8-ref" class="headerlink" title="15.1.8 ref"></a>15.1.8 ref</h2><h2 id="15-1-9-rows"><a href="#15-1-9-rows" class="headerlink" title="15.1.9 rows"></a>15.1.9 rows</h2><h2 id="16-第16章-查询优化的百科全书-Explain详解（下）"><a href="#16-第16章-查询优化的百科全书-Explain详解（下）" class="headerlink" title="16 第16章 查询优化的百科全书-Explain详解（下）"></a>16 第16章 查询优化的百科全书-Explain详解（下）</h2><h2 id="16-2-Json格式的执行计划"><a href="#16-2-Json格式的执行计划" class="headerlink" title="16.2 Json格式的执行计划"></a>16.2 Json格式的执行计划</h2><h2 id="16-3-Extented-EXPLAIN"><a href="#16-3-Extented-EXPLAIN" class="headerlink" title="16.3 Extented EXPLAIN"></a>16.3 Extented EXPLAIN</h2><h2 id="17-第17章-神兵利器-optimizer-trace表的神器功效"><a href="#17-第17章-神兵利器-optimizer-trace表的神器功效" class="headerlink" title="17 第17章 神兵利器-optimizer trace表的神器功效"></a>17 第17章 神兵利器-optimizer trace表的神器功效</h2><h2 id="18-第18章-调节磁盘和CPU的矛盾-InnoDB的Buffer-Pool"><a href="#18-第18章-调节磁盘和CPU的矛盾-InnoDB的Buffer-Pool" class="headerlink" title="18 第18章 调节磁盘和CPU的矛盾-InnoDB的Buffer Pool"></a>18 第18章 调节磁盘和CPU的矛盾-InnoDB的Buffer Pool</h2><h2 id="18-1-缓存的重要性"><a href="#18-1-缓存的重要性" class="headerlink" title="18.1 缓存的重要性"></a>18.1 缓存的重要性</h2><h2 id="18-2-3-free链表的管理"><a href="#18-2-3-free链表的管理" class="headerlink" title="18.2.3 free链表的管理"></a>18.2.3 free链表的管理</h2><h2 id="18-2-4-缓存页的哈希处理"><a href="#18-2-4-缓存页的哈希处理" class="headerlink" title="18.2.4 缓存页的哈希处理"></a>18.2.4 缓存页的哈希处理</h2><h2 id="18-2-6-LRU链表的管理"><a href="#18-2-6-LRU链表的管理" class="headerlink" title="18.2.6 LRU链表的管理"></a>18.2.6 LRU链表的管理</h2><h2 id="18-2-7-其他的一些链表"><a href="#18-2-7-其他的一些链表" class="headerlink" title="18.2.7 其他的一些链表"></a>18.2.7 其他的一些链表</h2><h2 id="18-2-10-innodb-buffer-pool-chunk-size"><a href="#18-2-10-innodb-buffer-pool-chunk-size" class="headerlink" title="18.2.10 innodb_buffer_pool_chunk_size"></a>18.2.10 innodb_buffer_pool_chunk_size</h2><h2 id="18-2-11-配置Buffer-Pool时的注意事项"><a href="#18-2-11-配置Buffer-Pool时的注意事项" class="headerlink" title="18.2.11 配置Buffer Pool时的注意事项"></a>18.2.11 配置Buffer Pool时的注意事项</h2><h2 id="18-2-12-Buffer-Pool中存储的其它信息"><a href="#18-2-12-Buffer-Pool中存储的其它信息" class="headerlink" title="18.2.12 Buffer Pool中存储的其它信息"></a>18.2.12 Buffer Pool中存储的其它信息</h2><h2 id="18-3-总结"><a href="#18-3-总结" class="headerlink" title="18.3 总结"></a>18.3 总结</h2><h2 id="19-第19章-从猫爷被杀说起-事务简介"><a href="#19-第19章-从猫爷被杀说起-事务简介" class="headerlink" title="19 第19章 从猫爷被杀说起-事务简介"></a>19 第19章 从猫爷被杀说起-事务简介</h2><h2 id="19-1-1-原子性（Atomicity）"><a href="#19-1-1-原子性（Atomicity）" class="headerlink" title="19.1.1 原子性（Atomicity）"></a>19.1.1 原子性（Atomicity）</h2><h2 id="19-1-3-一致性（Consistency）"><a href="#19-1-3-一致性（Consistency）" class="headerlink" title="19.1.3 一致性（Consistency）"></a>19.1.3 一致性（Consistency）</h2><h2 id="19-1-4-持久性（Durability）"><a href="#19-1-4-持久性（Durability）" class="headerlink" title="19.1.4 持久性（Durability）"></a>19.1.4 持久性（Durability）</h2><h2 id="19-3-MySQL中事务的语法"><a href="#19-3-MySQL中事务的语法" class="headerlink" title="19.3 MySQL中事务的语法"></a>19.3 MySQL中事务的语法</h2><h2 id="19-3-2-提交事务"><a href="#19-3-2-提交事务" class="headerlink" title="19.3.2 提交事务"></a>19.3.2 提交事务</h2><h2 id="19-3-3-手动中止事务"><a href="#19-3-3-手动中止事务" class="headerlink" title="19.3.3 手动中止事务"></a>19.3.3 手动中止事务</h2><h2 id="19-3-5-自动提交"><a href="#19-3-5-自动提交" class="headerlink" title="19.3.5 自动提交"></a>19.3.5 自动提交</h2><h2 id="19-3-7-保存点"><a href="#19-3-7-保存点" class="headerlink" title="19.3.7 保存点"></a>19.3.7 保存点</h2><h2 id="20-第20章-说过的话就一定要办到-redo日志（上）"><a href="#20-第20章-说过的话就一定要办到-redo日志（上）" class="headerlink" title="20 第20章 说过的话就一定要办到-redo日志（上）"></a>20 第20章 说过的话就一定要办到-redo日志（上）</h2><h2 id="20-1-事先说明"><a href="#20-1-事先说明" class="headerlink" title="20.1 事先说明"></a>20.1 事先说明</h2><h2 id="20-3-1-简单的redo日志类型"><a href="#20-3-1-简单的redo日志类型" class="headerlink" title="20.3.1 简单的redo日志类型"></a>20.3.1 简单的redo日志类型</h2><h2 id="20-3-2-复杂一些的redo日志类型"><a href="#20-3-2-复杂一些的redo日志类型" class="headerlink" title="20.3.2 复杂一些的redo日志类型"></a>20.3.2 复杂一些的redo日志类型</h2><h2 id="20-3-3-redo日志格式小结"><a href="#20-3-3-redo日志格式小结" class="headerlink" title="20.3.3 redo日志格式小结"></a>20.3.3 redo日志格式小结</h2><h2 id="20-4-2-Mini-Transaction的概念"><a href="#20-4-2-Mini-Transaction的概念" class="headerlink" title="20.4.2 Mini-Transaction的概念"></a>20.4.2 Mini-Transaction的概念</h2><h2 id="20-5-redo日志的写入过程"><a href="#20-5-redo日志的写入过程" class="headerlink" title="20.5 redo日志的写入过程"></a>20.5 redo日志的写入过程</h2><h2 id="20-5-2-redo日志缓冲区"><a href="#20-5-2-redo日志缓冲区" class="headerlink" title="20.5.2 redo日志缓冲区"></a>20.5.2 redo日志缓冲区</h2><h2 id="21-第21章-说过的话就一定要办到-redo日志（下）"><a href="#21-第21章-说过的话就一定要办到-redo日志（下）" class="headerlink" title="21 第21章 说过的话就一定要办到-redo日志（下）"></a>21 第21章 说过的话就一定要办到-redo日志（下）</h2><h2 id="21-1-2-redo日志文件组"><a href="#21-1-2-redo日志文件组" class="headerlink" title="21.1.2 redo日志文件组"></a>21.1.2 redo日志文件组</h2><h2 id="21-2-Log-Sequeue-Number"><a href="#21-2-Log-Sequeue-Number" class="headerlink" title="21.2 Log Sequeue Number"></a>21.2 Log Sequeue Number</h2><h2 id="21-2-1-flushed-to-disk-lsn"><a href="#21-2-1-flushed-to-disk-lsn" class="headerlink" title="21.2.1 flushed_to_disk_lsn"></a>21.2.1 flushed_to_disk_lsn</h2><h2 id="21-2-2-lsn值和redo日志文件偏移量的对应关系"><a href="#21-2-2-lsn值和redo日志文件偏移量的对应关系" class="headerlink" title="21.2.2 lsn值和redo日志文件偏移量的对应关系"></a>21.2.2 lsn值和redo日志文件偏移量的对应关系</h2><h2 id="21-3-checkpoint"><a href="#21-3-checkpoint" class="headerlink" title="21.3 checkpoint"></a>21.3 checkpoint</h2><h2 id="21-3-1-批量从flush链表中刷出脏页"><a href="#21-3-1-批量从flush链表中刷出脏页" class="headerlink" title="21.3.1 批量从flush链表中刷出脏页"></a>21.3.1 批量从flush链表中刷出脏页</h2><h2 id="21-4-innodb-flush-log-at-trx-commit的用法"><a href="#21-4-innodb-flush-log-at-trx-commit的用法" class="headerlink" title="21.4 innodb_flush_log_at_trx_commit的用法"></a>21.4 innodb_flush_log_at_trx_commit的用法</h2><h2 id="21-5-2-确定恢复的终点"><a href="#21-5-2-确定恢复的终点" class="headerlink" title="21.5.2 确定恢复的终点"></a>21.5.2 确定恢复的终点</h2><h2 id="21-6-遗漏的问题：LOG-BLOCK-HDR-NO是如何计算的"><a href="#21-6-遗漏的问题：LOG-BLOCK-HDR-NO是如何计算的" class="headerlink" title="21.6 遗漏的问题：LOG_BLOCK_HDR_NO是如何计算的"></a>21.6 遗漏的问题：LOG_BLOCK_HDR_NO是如何计算的</h2><h2 id="22-第22章-后悔了怎么办-undo日志（上）"><a href="#22-第22章-后悔了怎么办-undo日志（上）" class="headerlink" title="22 第22章 后悔了怎么办-undo日志（上）"></a>22 第22章 后悔了怎么办-undo日志（上）</h2><h2 id="22-2-事务id"><a href="#22-2-事务id" class="headerlink" title="22.2 事务id"></a>22.2 事务id</h2><h2 id="22-2-3-trx-id隐藏列"><a href="#22-2-3-trx-id隐藏列" class="headerlink" title="22.2.3 trx_id隐藏列"></a>22.2.3 trx_id隐藏列</h2><h2 id="22-3-1-INSERT操作对应的undo日志"><a href="#22-3-1-INSERT操作对应的undo日志" class="headerlink" title="22.3.1 INSERT操作对应的undo日志"></a>22.3.1 INSERT操作对应的undo日志</h2><h2 id="22-3-2-DELETE操作对应的undo日志"><a href="#22-3-2-DELETE操作对应的undo日志" class="headerlink" title="22.3.2 DELETE操作对应的undo日志"></a>22.3.2 DELETE操作对应的undo日志</h2><h2 id="22-3-3-UPDATE操作对应的undo日志"><a href="#22-3-3-UPDATE操作对应的undo日志" class="headerlink" title="22.3.3 UPDATE操作对应的undo日志"></a>22.3.3 UPDATE操作对应的undo日志</h2><h2 id="23-第23章-后悔了怎么办-undo日志（下）"><a href="#23-第23章-后悔了怎么办-undo日志（下）" class="headerlink" title="23 第23章 后悔了怎么办-undo日志（下）"></a>23 第23章 后悔了怎么办-undo日志（下）</h2><h2 id="23-2-FIL-PAGE-UNDO-LOG页面"><a href="#23-2-FIL-PAGE-UNDO-LOG页面" class="headerlink" title="23.2 FIL_PAGE_UNDO_LOG页面"></a>23.2 FIL_PAGE_UNDO_LOG页面</h2><h2 id="23-3-Undo页面链表"><a href="#23-3-Undo页面链表" class="headerlink" title="23.3 Undo页面链表"></a>23.3 Undo页面链表</h2><h2 id="23-3-2-多个事务中的Undo页面链表"><a href="#23-3-2-多个事务中的Undo页面链表" class="headerlink" title="23.3.2 多个事务中的Undo页面链表"></a>23.3.2 多个事务中的Undo页面链表</h2><h2 id="23-4-undo日志具体写入过程"><a href="#23-4-undo日志具体写入过程" class="headerlink" title="23.4 undo日志具体写入过程"></a>23.4 undo日志具体写入过程</h2><h2 id="23-4-2-Undo-Log-Segment-Header"><a href="#23-4-2-Undo-Log-Segment-Header" class="headerlink" title="23.4.2 Undo Log Segment Header"></a>23.4.2 Undo Log Segment Header</h2><h2 id="23-4-3-Undo-Log-Header"><a href="#23-4-3-Undo-Log-Header" class="headerlink" title="23.4.3 Undo Log Header"></a>23.4.3 Undo Log Header</h2><h2 id="23-4-4-小结"><a href="#23-4-4-小结" class="headerlink" title="23.4.4 小结"></a>23.4.4 小结</h2><h2 id="23-6-回滚段"><a href="#23-6-回滚段" class="headerlink" title="23.6 回滚段"></a>23.6 回滚段</h2><h2 id="23-6-2-从回滚段中申请Undo页面链表"><a href="#23-6-2-从回滚段中申请Undo页面链表" class="headerlink" title="23.6.2 从回滚段中申请Undo页面链表"></a>23.6.2 从回滚段中申请Undo页面链表</h2><h2 id="23-6-3-多个回滚段"><a href="#23-6-3-多个回滚段" class="headerlink" title="23.6.3 多个回滚段"></a>23.6.3 多个回滚段</h2><h2 id="23-6-4-回滚段的分类"><a href="#23-6-4-回滚段的分类" class="headerlink" title="23.6.4 回滚段的分类"></a>23.6.4 回滚段的分类</h2><h2 id="23-6-5-为事务分配Undo页面链表详细过程"><a href="#23-6-5-为事务分配Undo页面链表详细过程" class="headerlink" title="23.6.5 为事务分配Undo页面链表详细过程"></a>23.6.5 为事务分配Undo页面链表详细过程</h2><h2 id="23-7-回滚段相关配置"><a href="#23-7-回滚段相关配置" class="headerlink" title="23.7 回滚段相关配置"></a>23.7 回滚段相关配置</h2><h2 id="24-1-事前准备"><a href="#24-1-事前准备" class="headerlink" title="24.1 事前准备"></a>24.1 事前准备</h2><h2 id="24-2-2-SQL标准中的四种隔离级别"><a href="#24-2-2-SQL标准中的四种隔离级别" class="headerlink" title="24.2.2 SQL标准中的四种隔离级别"></a>24.2.2 SQL标准中的四种隔离级别</h2><h2 id="24-3-MVCC原理"><a href="#24-3-MVCC原理" class="headerlink" title="24.3 MVCC原理"></a>24.3 MVCC原理</h2><h2 id="24-3-2-ReadView"><a href="#24-3-2-ReadView" class="headerlink" title="24.3.2 ReadView"></a>24.3.2 ReadView</h2><h2 id="24-3-3-MVCC小结"><a href="#24-3-3-MVCC小结" class="headerlink" title="24.3.3 MVCC小结"></a>24.3.3 MVCC小结</h2><h2 id="25-1-1-一致性读（Consistent-Reads）"><a href="#25-1-1-一致性读（Consistent-Reads）" class="headerlink" title="25.1.1 一致性读（Consistent Reads）"></a>25.1.1 一致性读（Consistent Reads）</h2><h2 id="25-1-3-写操作"><a href="#25-1-3-写操作" class="headerlink" title="25.1.3 写操作"></a>25.1.3 写操作</h2><h2 id="25-3-MySQL中的行锁和表锁"><a href="#25-3-MySQL中的行锁和表锁" class="headerlink" title="25.3 MySQL中的行锁和表锁"></a>25.3 MySQL中的行锁和表锁</h2><h2 id="25-3-2-InnoDB存储引擎中的锁"><a href="#25-3-2-InnoDB存储引擎中的锁" class="headerlink" title="25.3.2 InnoDB存储引擎中的锁"></a>25.3.2 InnoDB存储引擎中的锁</h2><h2 id="25-3-3-InnoDB锁的内存结构"><a href="#25-3-3-InnoDB锁的内存结构" class="headerlink" title="25.3.3 InnoDB锁的内存结构"></a>25.3.3 InnoDB锁的内存结构</h2><h2 id="25-4-更多内容"><a href="#25-4-更多内容" class="headerlink" title="25.4 更多内容"></a>25.4 更多内容</h2><h2 id="26-1-2-一些书籍"><a href="#26-1-2-一些书籍" class="headerlink" title="26.1.2 一些书籍"></a>26.1.2 一些书籍</h2><h2 id="26-1-3-说点不好的"><a href="#26-1-3-说点不好的" class="headerlink" title="26.1.3 说点不好的"></a>26.1.3 说点不好的</h2><h1 id="读书笔记"><a href="#读书笔记" class="headerlink" title="读书笔记"></a>读书笔记</h1><h1 id="本书评论"><a href="#本书评论" class="headerlink" title="本书评论"></a>本书评论</h1>
      </div>
      
      
      
    </div>
    
  <ul class="breadcrumb">
          
            <li><a href="/booking/">BOOKING</a></li>
            <li><a href="/booking/01%E8%BF%9B%E8%A1%8C%E4%B8%AD/">01进行中</a></li>
            <li><a href="/booking/01%E8%BF%9B%E8%A1%8C%E4%B8%AD/old_dir/">OLD_DIR</a></li>
            <li>MYSQL是怎样运行的：从根儿上理解MYSQL</li>
          
  </ul>

    
    
    


          </div>
          
    <div class="comments" id="valine-comments"></div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#0-%E7%AC%AC0%E7%AB%A0-%E4%B8%87%E9%87%8C%E9%95%BF%E5%BE%81%E7%AC%AC%E4%B8%80%E6%AD%A5%EF%BC%88%E9%9D%9E%E5%B8%B8%E9%87%8D%E8%A6%81%EF%BC%89-%E5%A6%82%E4%BD%95%E6%84%89%E5%BF%AB%E7%9A%84%E9%98%85%E8%AF%BB%E6%9C%AC%E5%B0%8F%E5%86%8C"><span class="nav-text">0 第0章 万里长征第一步（非常重要）-如何愉快的阅读本小册</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#0-3-%E5%85%B3%E4%BA%8E%E5%B7%A5%E5%85%B7"><span class="nav-text">0.3 关于工具</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#0-6-%E5%85%B3%E4%BA%8E%E8%BD%AC%E5%8F%91"><span class="nav-text">0.6 关于转发</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-2-MySQL%E7%9A%84%E5%AE%89%E8%A3%85"><span class="nav-text">1.2 MySQL的安装</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-3-%E5%90%AF%E5%8A%A8MySQL%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%A8%8B%E5%BA%8F"><span class="nav-text">1.3 启动MySQL服务器程序</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-4-%E5%90%AF%E5%8A%A8MySQL%E5%AE%A2%E6%88%B7%E7%AB%AF%E7%A8%8B%E5%BA%8F"><span class="nav-text">1.4 启动MySQL客户端程序</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-4-1-%E8%BF%9E%E6%8E%A5%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="nav-text">1.4.1 连接注意事项</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-5-%E5%AE%A2%E6%88%B7%E7%AB%AF%E4%B8%8E%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%BF%9E%E6%8E%A5%E7%9A%84%E8%BF%87%E7%A8%8B"><span class="nav-text">1.5 客户端与服务器连接的过程</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-5-2-%E5%91%BD%E5%90%8D%E7%AE%A1%E9%81%93%E5%92%8C%E5%85%B1%E4%BA%AB%E5%86%85%E5%AD%98"><span class="nav-text">1.5.2 命名管道和共享内存</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-6-1-%E8%BF%9E%E6%8E%A5%E7%AE%A1%E7%90%86"><span class="nav-text">1.6.1 连接管理</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-6-3-%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E"><span class="nav-text">1.6.3 存储引擎</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-7-%E5%B8%B8%E7%94%A8%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E"><span class="nav-text">1.7 常用存储引擎</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-8-%E5%85%B3%E4%BA%8E%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E%E7%9A%84%E4%B8%80%E4%BA%9B%E6%93%8D%E4%BD%9C"><span class="nav-text">1.8 关于存储引擎的一些操作</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-8-2-%E8%AE%BE%E7%BD%AE%E8%A1%A8%E7%9A%84%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E"><span class="nav-text">1.8.2 设置表的存储引擎</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-%E7%AC%AC2%E7%AB%A0-MySQL%E7%9A%84%E8%B0%83%E6%8E%A7%E6%8C%89%E9%92%AE-%E5%90%AF%E5%8A%A8%E9%80%89%E9%A1%B9%E5%92%8C%E7%B3%BB%E7%BB%9F%E5%8F%98%E9%87%8F"><span class="nav-text">2 第2章 MySQL的调控按钮-启动选项和系统变量</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-1-%E5%9C%A8%E5%91%BD%E4%BB%A4%E8%A1%8C%E4%B8%8A%E4%BD%BF%E7%94%A8%E9%80%89%E9%A1%B9"><span class="nav-text">2.1 在命令行上使用选项</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-1-1-%E9%80%89%E9%A1%B9%E7%9A%84%E9%95%BF%E5%BD%A2%E5%BC%8F%E5%92%8C%E7%9F%AD%E5%BD%A2%E5%BC%8F"><span class="nav-text">2.1.1 选项的长形式和短形式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-2-2-%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E7%9A%84%E5%86%85%E5%AE%B9"><span class="nav-text">2.2.2 配置文件的内容</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-2-3-%E7%89%B9%E5%AE%9AMySQL%E7%89%88%E6%9C%AC%E7%9A%84%E4%B8%93%E7%94%A8%E9%80%89%E9%A1%B9%E7%BB%84"><span class="nav-text">2.2.3 特定MySQL版本的专用选项组</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-2-6-defaults-file%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="nav-text">2.2.6 defaults-file的使用</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-4-3-%E8%AE%BE%E7%BD%AE%E7%B3%BB%E7%BB%9F%E5%8F%98%E9%87%8F"><span class="nav-text">2.4.3 设置系统变量</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-4-4-%E5%90%AF%E5%8A%A8%E9%80%89%E9%A1%B9%E5%92%8C%E7%B3%BB%E7%BB%9F%E5%8F%98%E9%87%8F%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="nav-text">2.4.4 启动选项和系统变量的区别</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-1-%E5%AD%97%E7%AC%A6%E9%9B%86%E5%92%8C%E6%AF%94%E8%BE%83%E8%A7%84%E5%88%99%E7%AE%80%E4%BB%8B"><span class="nav-text">3.1 字符集和比较规则简介</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-2-MySQL%E4%B8%AD%E6%94%AF%E6%8C%81%E7%9A%84%E5%AD%97%E7%AC%A6%E9%9B%86%E5%92%8C%E6%8E%92%E5%BA%8F%E8%A7%84%E5%88%99"><span class="nav-text">3.2 MySQL中支持的字符集和排序规则</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-2-3-%E6%AF%94%E8%BE%83%E8%A7%84%E5%88%99%E7%9A%84%E6%9F%A5%E7%9C%8B"><span class="nav-text">3.2.3 比较规则的查看</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-3-%E5%AD%97%E7%AC%A6%E9%9B%86%E5%92%8C%E6%AF%94%E8%BE%83%E8%A7%84%E5%88%99%E7%9A%84%E5%BA%94%E7%94%A8"><span class="nav-text">3.3 字符集和比较规则的应用</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-3-1-%E5%90%84%E7%BA%A7%E5%88%AB%E7%9A%84%E5%AD%97%E7%AC%A6%E9%9B%86%E5%92%8C%E6%AF%94%E8%BE%83%E8%A7%84%E5%88%99"><span class="nav-text">3.3.1 各级别的字符集和比较规则</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-3-2-%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%92%8C%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%80%9A%E4%BF%A1%E4%B8%AD%E7%9A%84%E5%AD%97%E7%AC%A6%E9%9B%86"><span class="nav-text">3.3.2 客户端和服务器通信中的字符集</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-3-3-%E6%AF%94%E8%BE%83%E8%A7%84%E5%88%99%E7%9A%84%E5%BA%94%E7%94%A8"><span class="nav-text">3.3.3 比较规则的应用</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-4-%E6%80%BB%E7%BB%93"><span class="nav-text">3.4 总结</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-%E7%AC%AC4%E7%AB%A0-%E4%BB%8E%E4%B8%80%E6%9D%A1%E8%AE%B0%E5%BD%95%E8%AF%B4%E8%B5%B7-InnoDB%E8%AE%B0%E5%BD%95%E7%BB%93%E6%9E%84"><span class="nav-text">4 第4章 从一条记录说起-InnoDB记录结构</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-3-InnoDB%E8%A1%8C%E6%A0%BC%E5%BC%8F"><span class="nav-text">4.3 InnoDB行格式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-3-2-COMPACT%E8%A1%8C%E6%A0%BC%E5%BC%8F"><span class="nav-text">4.3.2 COMPACT行格式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-3-3-Redundant%E8%A1%8C%E6%A0%BC%E5%BC%8F"><span class="nav-text">4.3.3 Redundant行格式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-3-4-%E8%A1%8C%E6%BA%A2%E5%87%BA%E6%95%B0%E6%8D%AE"><span class="nav-text">4.3.4 行溢出数据</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-3-5-Dynamic%E5%92%8CCompressed%E8%A1%8C%E6%A0%BC%E5%BC%8F"><span class="nav-text">4.3.5 Dynamic和Compressed行格式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-%E7%AC%AC5%E7%AB%A0-%E7%9B%9B%E6%94%BE%E8%AE%B0%E5%BD%95%E7%9A%84%E5%A4%A7%E7%9B%92%E5%AD%90-InnoDB%E6%95%B0%E6%8D%AE%E9%A1%B5%E7%BB%93%E6%9E%84"><span class="nav-text">5 第5章 盛放记录的大盒子-InnoDB数据页结构</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-3-%E8%AE%B0%E5%BD%95%E5%9C%A8%E9%A1%B5%E4%B8%AD%E7%9A%84%E5%AD%98%E5%82%A8"><span class="nav-text">5.3 记录在页中的存储</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-3-1-%E8%AE%B0%E5%BD%95%E5%A4%B4%E4%BF%A1%E6%81%AF%E7%9A%84%E7%A7%98%E5%AF%86"><span class="nav-text">5.3.1 记录头信息的秘密</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-4-Page-Directory%EF%BC%88%E9%A1%B5%E7%9B%AE%E5%BD%95%EF%BC%89"><span class="nav-text">5.4 Page Directory（页目录）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-5-Page-Header%EF%BC%88%E9%A1%B5%E9%9D%A2%E5%A4%B4%E9%83%A8%EF%BC%89"><span class="nav-text">5.5 Page Header（页面头部）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-6-File-Header%EF%BC%88%E6%96%87%E4%BB%B6%E5%A4%B4%E9%83%A8%EF%BC%89"><span class="nav-text">5.6 File Header（文件头部）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-7-File-Trailer"><span class="nav-text">5.7 File Trailer</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-%E7%AC%AC6%E7%AB%A0-%E5%BF%AB%E9%80%9F%E6%9F%A5%E8%AF%A2%E7%9A%84%E7%A7%98%E7%B1%8D-B-%E6%A0%91%E7%B4%A2%E5%BC%95"><span class="nav-text">6 第6章 快速查询的秘籍-B+树索引</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-1-2-%E5%9C%A8%E5%BE%88%E5%A4%9A%E9%A1%B5%E4%B8%AD%E6%9F%A5%E6%89%BE"><span class="nav-text">6.1.2 在很多页中查找</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-2-1-%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E7%B4%A2%E5%BC%95%E6%96%B9%E6%A1%88"><span class="nav-text">6.2.1 一个简单的索引方案</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-2-2-InnoDB%E4%B8%AD%E7%9A%84%E7%B4%A2%E5%BC%95%E6%96%B9%E6%A1%88"><span class="nav-text">6.2.2 InnoDB中的索引方案</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-2-3-InnoDB%E7%9A%84B-%E6%A0%91%E7%B4%A2%E5%BC%95%E7%9A%84%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="nav-text">6.2.3 InnoDB的B+树索引的注意事项</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-2-4-MyISAM%E4%B8%AD%E7%9A%84%E7%B4%A2%E5%BC%95%E6%96%B9%E6%A1%88%E7%AE%80%E5%8D%95%E4%BB%8B%E7%BB%8D"><span class="nav-text">6.2.4 MyISAM中的索引方案简单介绍</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-2-5-MySQL%E4%B8%AD%E5%88%9B%E5%BB%BA%E5%92%8C%E5%88%A0%E9%99%A4%E7%B4%A2%E5%BC%95%E7%9A%84%E8%AF%AD%E5%8F%A5"><span class="nav-text">6.2.5 MySQL中创建和删除索引的语句</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#7-1-%E7%B4%A2%E5%BC%95%E7%9A%84%E4%BB%A3%E4%BB%B7"><span class="nav-text">7.1 索引的代价</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#7-2-1-%E5%85%A8%E5%80%BC%E5%8C%B9%E9%85%8D"><span class="nav-text">7.2.1 全值匹配</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#7-2-2-%E5%8C%B9%E9%85%8D%E5%B7%A6%E8%BE%B9%E7%9A%84%E5%88%97"><span class="nav-text">7.2.2 匹配左边的列</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#7-2-4-%E5%8C%B9%E9%85%8D%E8%8C%83%E5%9B%B4%E5%80%BC"><span class="nav-text">7.2.4 匹配范围值</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#7-2-6-%E7%94%A8%E4%BA%8E%E6%8E%92%E5%BA%8F"><span class="nav-text">7.2.6 用于排序</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#7-2-7-%E7%94%A8%E4%BA%8E%E5%88%86%E7%BB%84"><span class="nav-text">7.2.7 用于分组</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#7-3-1-%E8%A6%86%E7%9B%96%E7%B4%A2%E5%BC%95"><span class="nav-text">7.3.1 覆盖索引</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#7-4-2-%E8%80%83%E8%99%91%E5%88%97%E7%9A%84%E5%9F%BA%E6%95%B0"><span class="nav-text">7.4.2 考虑列的基数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#7-4-5-%E8%AE%A9%E7%B4%A2%E5%BC%95%E5%88%97%E5%9C%A8%E6%AF%94%E8%BE%83%E8%A1%A8%E8%BE%BE%E5%BC%8F%E4%B8%AD%E5%8D%95%E7%8B%AC%E5%87%BA%E7%8E%B0"><span class="nav-text">7.4.5 让索引列在比较表达式中单独出现</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#7-4-7-%E5%86%97%E4%BD%99%E5%92%8C%E9%87%8D%E5%A4%8D%E7%B4%A2%E5%BC%95"><span class="nav-text">7.4.7 冗余和重复索引</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#7-5-%E6%80%BB%E7%BB%93"><span class="nav-text">7.5 总结</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#8-2-1-%E6%95%B0%E6%8D%AE%E7%9B%AE%E5%BD%95%E5%92%8C%E5%AE%89%E8%A3%85%E7%9B%AE%E5%BD%95%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="nav-text">8.2.1 数据目录和安装目录的区别</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#8-3-2-%E8%A1%A8%E5%9C%A8%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E4%B8%AD%E7%9A%84%E8%A1%A8%E7%A4%BA"><span class="nav-text">8.3.2 表在文件系统中的表示</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#8-3-3-%E8%A7%86%E5%9B%BE%E5%9C%A8%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E4%B8%AD%E7%9A%84%E8%A1%A8%E7%A4%BA"><span class="nav-text">8.3.3 视图在文件系统中的表示</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#9-%E7%AC%AC9%E7%AB%A0-%E5%AD%98%E6%94%BE%E9%A1%B5%E9%9D%A2%E7%9A%84%E5%A4%A7%E6%B1%A0%E5%AD%90-InnoDB%E7%9A%84%E8%A1%A8%E7%A9%BA%E9%97%B4"><span class="nav-text">9 第9章 存放页面的大池子-InnoDB的表空间</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#9-1-2-%E9%A1%B5%E9%9D%A2%E9%80%9A%E7%94%A8%E9%83%A8%E5%88%86"><span class="nav-text">9.1.2 页面通用部分</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#9-2-%E7%8B%AC%E7%AB%8B%E8%A1%A8%E7%A9%BA%E9%97%B4%E7%BB%93%E6%9E%84"><span class="nav-text">9.2 独立表空间结构</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#9-2-2-%E6%AE%B5%EF%BC%88segment%EF%BC%89%E7%9A%84%E6%A6%82%E5%BF%B5"><span class="nav-text">9.2.2 段（segment）的概念</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#9-2-3-%E5%8C%BA%E7%9A%84%E5%88%86%E7%B1%BB"><span class="nav-text">9.2.3 区的分类</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#9-2-4-%E6%AE%B5%E7%9A%84%E7%BB%93%E6%9E%84"><span class="nav-text">9.2.4 段的结构</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#9-2-5-%E5%90%84%E7%B1%BB%E5%9E%8B%E9%A1%B5%E9%9D%A2%E8%AF%A6%E7%BB%86%E6%83%85%E5%86%B5"><span class="nav-text">9.2.5 各类型页面详细情况</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#9-2-6-Segment-Header-%E7%BB%93%E6%9E%84%E7%9A%84%E8%BF%90%E7%94%A8"><span class="nav-text">9.2.6 Segment Header 结构的运用</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#9-2-7-%E7%9C%9F%E5%AE%9E%E8%A1%A8%E7%A9%BA%E9%97%B4%E5%AF%B9%E5%BA%94%E7%9A%84%E6%96%87%E4%BB%B6%E5%A4%A7%E5%B0%8F"><span class="nav-text">9.2.7 真实表空间对应的文件大小</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#9-3-2-%E6%80%BB%E7%BB%93%E5%9B%BE"><span class="nav-text">9.3.2 总结图</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#10-%E7%AC%AC10%E7%AB%A0-%E6%9D%A1%E6%9D%A1%E5%A4%A7%E8%B7%AF%E9%80%9A%E7%BD%97%E9%A9%AC-%E5%8D%95%E8%A1%A8%E8%AE%BF%E9%97%AE%E6%96%B9%E6%B3%95"><span class="nav-text">10 第10章 条条大路通罗马-单表访问方法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#10-1-%E8%AE%BF%E9%97%AE%E6%96%B9%E6%B3%95%EF%BC%88access-method%EF%BC%89%E7%9A%84%E6%A6%82%E5%BF%B5"><span class="nav-text">10.1 访问方法（access method）的概念</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#10-2-const"><span class="nav-text">10.2 const</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#10-3-ref"><span class="nav-text">10.3 ref</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#10-4-ref-or-null"><span class="nav-text">10.4 ref_or_null</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#10-6-index"><span class="nav-text">10.6 index</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#10-8-1-%E9%87%8D%E6%B8%A9-%E4%BA%8C%E7%BA%A7%E7%B4%A2%E5%BC%95-%E5%9B%9E%E8%A1%A8"><span class="nav-text">10.8.1 重温 二级索引 + 回表</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#10-8-3-%E7%B4%A2%E5%BC%95%E5%90%88%E5%B9%B6"><span class="nav-text">10.8.3 索引合并</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#11-%E7%AC%AC11%E7%AB%A0-%E4%B8%A4%E4%B8%AA%E8%A1%A8%E7%9A%84%E4%BA%B2%E5%AF%86%E6%8E%A5%E8%A7%A6-%E8%BF%9E%E6%8E%A5%E7%9A%84%E5%8E%9F%E7%90%86"><span class="nav-text">11 第11章 两个表的亲密接触-连接的原理</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#11-1-2-%E8%BF%9E%E6%8E%A5%E8%BF%87%E7%A8%8B%E7%AE%80%E4%BB%8B"><span class="nav-text">11.1.2 连接过程简介</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#11-1-3-%E5%86%85%E8%BF%9E%E6%8E%A5%E5%92%8C%E5%A4%96%E8%BF%9E%E6%8E%A5"><span class="nav-text">11.1.3 内连接和外连接</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#11-2-%E8%BF%9E%E6%8E%A5%E7%9A%84%E5%8E%9F%E7%90%86"><span class="nav-text">11.2 连接的原理</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#11-2-2-%E4%BD%BF%E7%94%A8%E7%B4%A2%E5%BC%95%E5%8A%A0%E5%BF%AB%E8%BF%9E%E6%8E%A5%E9%80%9F%E5%BA%A6"><span class="nav-text">11.2.2 使用索引加快连接速度</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#11-2-3-%E5%9F%BA%E4%BA%8E%E5%9D%97%E7%9A%84%E5%B5%8C%E5%A5%97%E5%BE%AA%E7%8E%AF%E8%BF%9E%E6%8E%A5%EF%BC%88Block-Nested-Loop-Join%EF%BC%89"><span class="nav-text">11.2.3 基于块的嵌套循环连接（Block Nested-Loop Join）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#12-%E7%AC%AC12%E7%AB%A0-%E8%B0%81%E6%9C%80%E4%BE%BF%E5%AE%9C%E5%B0%B1%E9%80%89%E8%B0%81-MySQL%E5%9F%BA%E4%BA%8E%E6%88%90%E6%9C%AC%E7%9A%84%E4%BC%98%E5%8C%96"><span class="nav-text">12 第12章 谁最便宜就选谁-MySQL基于成本的优化</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#12-1-%E4%BB%80%E4%B9%88%E6%98%AF%E6%88%90%E6%9C%AC"><span class="nav-text">12.1 什么是成本</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#12-2-3-%E5%9F%BA%E4%BA%8E%E7%B4%A2%E5%BC%95%E7%BB%9F%E8%AE%A1%E6%95%B0%E6%8D%AE%E7%9A%84%E6%88%90%E6%9C%AC%E8%AE%A1%E7%AE%97"><span class="nav-text">12.2.3 基于索引统计数据的成本计算</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#12-3-%E8%BF%9E%E6%8E%A5%E6%9F%A5%E8%AF%A2%E7%9A%84%E6%88%90%E6%9C%AC"><span class="nav-text">12.3 连接查询的成本</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#12-3-3-%E4%B8%A4%E8%A1%A8%E8%BF%9E%E6%8E%A5%E7%9A%84%E6%88%90%E6%9C%AC%E5%88%86%E6%9E%90"><span class="nav-text">12.3.3 两表连接的成本分析</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#12-3-4-%E5%A4%9A%E8%A1%A8%E8%BF%9E%E6%8E%A5%E7%9A%84%E6%88%90%E6%9C%AC%E5%88%86%E6%9E%90"><span class="nav-text">12.3.4 多表连接的成本分析</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#12-4-1-mysql-server-cost%E8%A1%A8"><span class="nav-text">12.4.1 mysql.server_cost表</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#12-4-2-mysql-engine-cost%E8%A1%A8"><span class="nav-text">12.4.2 mysql.engine_cost表</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#13-%E7%AC%AC13%E7%AB%A0-%E5%85%B5%E9%A9%AC%E6%9C%AA%E5%8A%A8%EF%BC%8C%E7%B2%AE%E8%8D%89%E5%85%88%E8%A1%8C-InnoDB%E7%BB%9F%E8%AE%A1%E6%95%B0%E6%8D%AE%E6%98%AF%E5%A6%82%E4%BD%95%E6%94%B6%E9%9B%86%E7%9A%84"><span class="nav-text">13 第13章 兵马未动，粮草先行-InnoDB统计数据是如何收集的</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#13-2-1-innodb-table-stats"><span class="nav-text">13.2.1 innodb_table_stats</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#13-2-2-innodb-index-stats"><span class="nav-text">13.2.2 innodb_index_stats</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#13-2-3-%E5%AE%9A%E6%9C%9F%E6%9B%B4%E6%96%B0%E7%BB%9F%E8%AE%A1%E6%95%B0%E6%8D%AE"><span class="nav-text">13.2.3 定期更新统计数据</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%92%8C"><span class="nav-text">和</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#13-4-innodb-stats-method%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="nav-text">13.4 innodb_stats_method的使用</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#13-5-%E6%80%BB%E7%BB%93"><span class="nav-text">13.5 总结</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#14-1-3-%E7%AD%89%E5%80%BC%E4%BC%A0%E9%80%92%EF%BC%88equality-propagation%EF%BC%89"><span class="nav-text">14.1.3 等值传递（equality_propagation）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#14-1-6-HAVING%E5%AD%90%E5%8F%A5%E5%92%8CWHERE%E5%AD%90%E5%8F%A5%E7%9A%84%E5%90%88%E5%B9%B6"><span class="nav-text">14.1.6 HAVING子句和WHERE子句的合并</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#14-3-%E5%AD%90%E6%9F%A5%E8%AF%A2%E4%BC%98%E5%8C%96"><span class="nav-text">14.3 子查询优化</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#14-3-2-%E5%AD%90%E6%9F%A5%E8%AF%A2%E5%9C%A8MySQL%E4%B8%AD%E6%98%AF%E6%80%8E%E4%B9%88%E6%89%A7%E8%A1%8C%E7%9A%84"><span class="nav-text">14.3.2 子查询在MySQL中是怎么执行的</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#15-%E7%AC%AC15%E7%AB%A0-%E6%9F%A5%E8%AF%A2%E4%BC%98%E5%8C%96%E7%9A%84%E7%99%BE%E7%A7%91%E5%85%A8%E4%B9%A6-Explain%E8%AF%A6%E8%A7%A3%EF%BC%88%E4%B8%8A%EF%BC%89"><span class="nav-text">15 第15章 查询优化的百科全书-Explain详解（上）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#15-1-%E6%89%A7%E8%A1%8C%E8%AE%A1%E5%88%92%E8%BE%93%E5%87%BA%E4%B8%AD%E5%90%84%E5%88%97%E8%AF%A6%E8%A7%A3"><span class="nav-text">15.1 执行计划输出中各列详解</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#15-1-2-id"><span class="nav-text">15.1.2 id</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#15-1-3-select-type"><span class="nav-text">15.1.3 select_type</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#15-1-4-partitions"><span class="nav-text">15.1.4 partitions</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#15-1-6-possible-keys%E5%92%8Ckey"><span class="nav-text">15.1.6 possible_keys和key</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#15-1-7-key-len"><span class="nav-text">15.1.7 key_len</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#15-1-8-ref"><span class="nav-text">15.1.8 ref</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#15-1-9-rows"><span class="nav-text">15.1.9 rows</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#16-%E7%AC%AC16%E7%AB%A0-%E6%9F%A5%E8%AF%A2%E4%BC%98%E5%8C%96%E7%9A%84%E7%99%BE%E7%A7%91%E5%85%A8%E4%B9%A6-Explain%E8%AF%A6%E8%A7%A3%EF%BC%88%E4%B8%8B%EF%BC%89"><span class="nav-text">16 第16章 查询优化的百科全书-Explain详解（下）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#16-2-Json%E6%A0%BC%E5%BC%8F%E7%9A%84%E6%89%A7%E8%A1%8C%E8%AE%A1%E5%88%92"><span class="nav-text">16.2 Json格式的执行计划</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#16-3-Extented-EXPLAIN"><span class="nav-text">16.3 Extented EXPLAIN</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#17-%E7%AC%AC17%E7%AB%A0-%E7%A5%9E%E5%85%B5%E5%88%A9%E5%99%A8-optimizer-trace%E8%A1%A8%E7%9A%84%E7%A5%9E%E5%99%A8%E5%8A%9F%E6%95%88"><span class="nav-text">17 第17章 神兵利器-optimizer trace表的神器功效</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#18-%E7%AC%AC18%E7%AB%A0-%E8%B0%83%E8%8A%82%E7%A3%81%E7%9B%98%E5%92%8CCPU%E7%9A%84%E7%9F%9B%E7%9B%BE-InnoDB%E7%9A%84Buffer-Pool"><span class="nav-text">18 第18章 调节磁盘和CPU的矛盾-InnoDB的Buffer Pool</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#18-1-%E7%BC%93%E5%AD%98%E7%9A%84%E9%87%8D%E8%A6%81%E6%80%A7"><span class="nav-text">18.1 缓存的重要性</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#18-2-3-free%E9%93%BE%E8%A1%A8%E7%9A%84%E7%AE%A1%E7%90%86"><span class="nav-text">18.2.3 free链表的管理</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#18-2-4-%E7%BC%93%E5%AD%98%E9%A1%B5%E7%9A%84%E5%93%88%E5%B8%8C%E5%A4%84%E7%90%86"><span class="nav-text">18.2.4 缓存页的哈希处理</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#18-2-6-LRU%E9%93%BE%E8%A1%A8%E7%9A%84%E7%AE%A1%E7%90%86"><span class="nav-text">18.2.6 LRU链表的管理</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#18-2-7-%E5%85%B6%E4%BB%96%E7%9A%84%E4%B8%80%E4%BA%9B%E9%93%BE%E8%A1%A8"><span class="nav-text">18.2.7 其他的一些链表</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#18-2-10-innodb-buffer-pool-chunk-size"><span class="nav-text">18.2.10 innodb_buffer_pool_chunk_size</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#18-2-11-%E9%85%8D%E7%BD%AEBuffer-Pool%E6%97%B6%E7%9A%84%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="nav-text">18.2.11 配置Buffer Pool时的注意事项</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#18-2-12-Buffer-Pool%E4%B8%AD%E5%AD%98%E5%82%A8%E7%9A%84%E5%85%B6%E5%AE%83%E4%BF%A1%E6%81%AF"><span class="nav-text">18.2.12 Buffer Pool中存储的其它信息</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#18-3-%E6%80%BB%E7%BB%93"><span class="nav-text">18.3 总结</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#19-%E7%AC%AC19%E7%AB%A0-%E4%BB%8E%E7%8C%AB%E7%88%B7%E8%A2%AB%E6%9D%80%E8%AF%B4%E8%B5%B7-%E4%BA%8B%E5%8A%A1%E7%AE%80%E4%BB%8B"><span class="nav-text">19 第19章 从猫爷被杀说起-事务简介</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#19-1-1-%E5%8E%9F%E5%AD%90%E6%80%A7%EF%BC%88Atomicity%EF%BC%89"><span class="nav-text">19.1.1 原子性（Atomicity）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#19-1-3-%E4%B8%80%E8%87%B4%E6%80%A7%EF%BC%88Consistency%EF%BC%89"><span class="nav-text">19.1.3 一致性（Consistency）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#19-1-4-%E6%8C%81%E4%B9%85%E6%80%A7%EF%BC%88Durability%EF%BC%89"><span class="nav-text">19.1.4 持久性（Durability）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#19-3-MySQL%E4%B8%AD%E4%BA%8B%E5%8A%A1%E7%9A%84%E8%AF%AD%E6%B3%95"><span class="nav-text">19.3 MySQL中事务的语法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#19-3-2-%E6%8F%90%E4%BA%A4%E4%BA%8B%E5%8A%A1"><span class="nav-text">19.3.2 提交事务</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#19-3-3-%E6%89%8B%E5%8A%A8%E4%B8%AD%E6%AD%A2%E4%BA%8B%E5%8A%A1"><span class="nav-text">19.3.3 手动中止事务</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#19-3-5-%E8%87%AA%E5%8A%A8%E6%8F%90%E4%BA%A4"><span class="nav-text">19.3.5 自动提交</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#19-3-7-%E4%BF%9D%E5%AD%98%E7%82%B9"><span class="nav-text">19.3.7 保存点</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#20-%E7%AC%AC20%E7%AB%A0-%E8%AF%B4%E8%BF%87%E7%9A%84%E8%AF%9D%E5%B0%B1%E4%B8%80%E5%AE%9A%E8%A6%81%E5%8A%9E%E5%88%B0-redo%E6%97%A5%E5%BF%97%EF%BC%88%E4%B8%8A%EF%BC%89"><span class="nav-text">20 第20章 说过的话就一定要办到-redo日志（上）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#20-1-%E4%BA%8B%E5%85%88%E8%AF%B4%E6%98%8E"><span class="nav-text">20.1 事先说明</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#20-3-1-%E7%AE%80%E5%8D%95%E7%9A%84redo%E6%97%A5%E5%BF%97%E7%B1%BB%E5%9E%8B"><span class="nav-text">20.3.1 简单的redo日志类型</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#20-3-2-%E5%A4%8D%E6%9D%82%E4%B8%80%E4%BA%9B%E7%9A%84redo%E6%97%A5%E5%BF%97%E7%B1%BB%E5%9E%8B"><span class="nav-text">20.3.2 复杂一些的redo日志类型</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#20-3-3-redo%E6%97%A5%E5%BF%97%E6%A0%BC%E5%BC%8F%E5%B0%8F%E7%BB%93"><span class="nav-text">20.3.3 redo日志格式小结</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#20-4-2-Mini-Transaction%E7%9A%84%E6%A6%82%E5%BF%B5"><span class="nav-text">20.4.2 Mini-Transaction的概念</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#20-5-redo%E6%97%A5%E5%BF%97%E7%9A%84%E5%86%99%E5%85%A5%E8%BF%87%E7%A8%8B"><span class="nav-text">20.5 redo日志的写入过程</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#20-5-2-redo%E6%97%A5%E5%BF%97%E7%BC%93%E5%86%B2%E5%8C%BA"><span class="nav-text">20.5.2 redo日志缓冲区</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#21-%E7%AC%AC21%E7%AB%A0-%E8%AF%B4%E8%BF%87%E7%9A%84%E8%AF%9D%E5%B0%B1%E4%B8%80%E5%AE%9A%E8%A6%81%E5%8A%9E%E5%88%B0-redo%E6%97%A5%E5%BF%97%EF%BC%88%E4%B8%8B%EF%BC%89"><span class="nav-text">21 第21章 说过的话就一定要办到-redo日志（下）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#21-1-2-redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6%E7%BB%84"><span class="nav-text">21.1.2 redo日志文件组</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#21-2-Log-Sequeue-Number"><span class="nav-text">21.2 Log Sequeue Number</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#21-2-1-flushed-to-disk-lsn"><span class="nav-text">21.2.1 flushed_to_disk_lsn</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#21-2-2-lsn%E5%80%BC%E5%92%8Credo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6%E5%81%8F%E7%A7%BB%E9%87%8F%E7%9A%84%E5%AF%B9%E5%BA%94%E5%85%B3%E7%B3%BB"><span class="nav-text">21.2.2 lsn值和redo日志文件偏移量的对应关系</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#21-3-checkpoint"><span class="nav-text">21.3 checkpoint</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#21-3-1-%E6%89%B9%E9%87%8F%E4%BB%8Eflush%E9%93%BE%E8%A1%A8%E4%B8%AD%E5%88%B7%E5%87%BA%E8%84%8F%E9%A1%B5"><span class="nav-text">21.3.1 批量从flush链表中刷出脏页</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#21-4-innodb-flush-log-at-trx-commit%E7%9A%84%E7%94%A8%E6%B3%95"><span class="nav-text">21.4 innodb_flush_log_at_trx_commit的用法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#21-5-2-%E7%A1%AE%E5%AE%9A%E6%81%A2%E5%A4%8D%E7%9A%84%E7%BB%88%E7%82%B9"><span class="nav-text">21.5.2 确定恢复的终点</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#21-6-%E9%81%97%E6%BC%8F%E7%9A%84%E9%97%AE%E9%A2%98%EF%BC%9ALOG-BLOCK-HDR-NO%E6%98%AF%E5%A6%82%E4%BD%95%E8%AE%A1%E7%AE%97%E7%9A%84"><span class="nav-text">21.6 遗漏的问题：LOG_BLOCK_HDR_NO是如何计算的</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#22-%E7%AC%AC22%E7%AB%A0-%E5%90%8E%E6%82%94%E4%BA%86%E6%80%8E%E4%B9%88%E5%8A%9E-undo%E6%97%A5%E5%BF%97%EF%BC%88%E4%B8%8A%EF%BC%89"><span class="nav-text">22 第22章 后悔了怎么办-undo日志（上）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#22-2-%E4%BA%8B%E5%8A%A1id"><span class="nav-text">22.2 事务id</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#22-2-3-trx-id%E9%9A%90%E8%97%8F%E5%88%97"><span class="nav-text">22.2.3 trx_id隐藏列</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#22-3-1-INSERT%E6%93%8D%E4%BD%9C%E5%AF%B9%E5%BA%94%E7%9A%84undo%E6%97%A5%E5%BF%97"><span class="nav-text">22.3.1 INSERT操作对应的undo日志</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#22-3-2-DELETE%E6%93%8D%E4%BD%9C%E5%AF%B9%E5%BA%94%E7%9A%84undo%E6%97%A5%E5%BF%97"><span class="nav-text">22.3.2 DELETE操作对应的undo日志</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#22-3-3-UPDATE%E6%93%8D%E4%BD%9C%E5%AF%B9%E5%BA%94%E7%9A%84undo%E6%97%A5%E5%BF%97"><span class="nav-text">22.3.3 UPDATE操作对应的undo日志</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#23-%E7%AC%AC23%E7%AB%A0-%E5%90%8E%E6%82%94%E4%BA%86%E6%80%8E%E4%B9%88%E5%8A%9E-undo%E6%97%A5%E5%BF%97%EF%BC%88%E4%B8%8B%EF%BC%89"><span class="nav-text">23 第23章 后悔了怎么办-undo日志（下）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#23-2-FIL-PAGE-UNDO-LOG%E9%A1%B5%E9%9D%A2"><span class="nav-text">23.2 FIL_PAGE_UNDO_LOG页面</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#23-3-Undo%E9%A1%B5%E9%9D%A2%E9%93%BE%E8%A1%A8"><span class="nav-text">23.3 Undo页面链表</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#23-3-2-%E5%A4%9A%E4%B8%AA%E4%BA%8B%E5%8A%A1%E4%B8%AD%E7%9A%84Undo%E9%A1%B5%E9%9D%A2%E9%93%BE%E8%A1%A8"><span class="nav-text">23.3.2 多个事务中的Undo页面链表</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#23-4-undo%E6%97%A5%E5%BF%97%E5%85%B7%E4%BD%93%E5%86%99%E5%85%A5%E8%BF%87%E7%A8%8B"><span class="nav-text">23.4 undo日志具体写入过程</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#23-4-2-Undo-Log-Segment-Header"><span class="nav-text">23.4.2 Undo Log Segment Header</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#23-4-3-Undo-Log-Header"><span class="nav-text">23.4.3 Undo Log Header</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#23-4-4-%E5%B0%8F%E7%BB%93"><span class="nav-text">23.4.4 小结</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#23-6-%E5%9B%9E%E6%BB%9A%E6%AE%B5"><span class="nav-text">23.6 回滚段</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#23-6-2-%E4%BB%8E%E5%9B%9E%E6%BB%9A%E6%AE%B5%E4%B8%AD%E7%94%B3%E8%AF%B7Undo%E9%A1%B5%E9%9D%A2%E9%93%BE%E8%A1%A8"><span class="nav-text">23.6.2 从回滚段中申请Undo页面链表</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#23-6-3-%E5%A4%9A%E4%B8%AA%E5%9B%9E%E6%BB%9A%E6%AE%B5"><span class="nav-text">23.6.3 多个回滚段</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#23-6-4-%E5%9B%9E%E6%BB%9A%E6%AE%B5%E7%9A%84%E5%88%86%E7%B1%BB"><span class="nav-text">23.6.4 回滚段的分类</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#23-6-5-%E4%B8%BA%E4%BA%8B%E5%8A%A1%E5%88%86%E9%85%8DUndo%E9%A1%B5%E9%9D%A2%E9%93%BE%E8%A1%A8%E8%AF%A6%E7%BB%86%E8%BF%87%E7%A8%8B"><span class="nav-text">23.6.5 为事务分配Undo页面链表详细过程</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#23-7-%E5%9B%9E%E6%BB%9A%E6%AE%B5%E7%9B%B8%E5%85%B3%E9%85%8D%E7%BD%AE"><span class="nav-text">23.7 回滚段相关配置</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#24-1-%E4%BA%8B%E5%89%8D%E5%87%86%E5%A4%87"><span class="nav-text">24.1 事前准备</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#24-2-2-SQL%E6%A0%87%E5%87%86%E4%B8%AD%E7%9A%84%E5%9B%9B%E7%A7%8D%E9%9A%94%E7%A6%BB%E7%BA%A7%E5%88%AB"><span class="nav-text">24.2.2 SQL标准中的四种隔离级别</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#24-3-MVCC%E5%8E%9F%E7%90%86"><span class="nav-text">24.3 MVCC原理</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#24-3-2-ReadView"><span class="nav-text">24.3.2 ReadView</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#24-3-3-MVCC%E5%B0%8F%E7%BB%93"><span class="nav-text">24.3.3 MVCC小结</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#25-1-1-%E4%B8%80%E8%87%B4%E6%80%A7%E8%AF%BB%EF%BC%88Consistent-Reads%EF%BC%89"><span class="nav-text">25.1.1 一致性读（Consistent Reads）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#25-1-3-%E5%86%99%E6%93%8D%E4%BD%9C"><span class="nav-text">25.1.3 写操作</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#25-3-MySQL%E4%B8%AD%E7%9A%84%E8%A1%8C%E9%94%81%E5%92%8C%E8%A1%A8%E9%94%81"><span class="nav-text">25.3 MySQL中的行锁和表锁</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#25-3-2-InnoDB%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E%E4%B8%AD%E7%9A%84%E9%94%81"><span class="nav-text">25.3.2 InnoDB存储引擎中的锁</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#25-3-3-InnoDB%E9%94%81%E7%9A%84%E5%86%85%E5%AD%98%E7%BB%93%E6%9E%84"><span class="nav-text">25.3.3 InnoDB锁的内存结构</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#25-4-%E6%9B%B4%E5%A4%9A%E5%86%85%E5%AE%B9"><span class="nav-text">25.4 更多内容</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#26-1-2-%E4%B8%80%E4%BA%9B%E4%B9%A6%E7%B1%8D"><span class="nav-text">26.1.2 一些书籍</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#26-1-3-%E8%AF%B4%E7%82%B9%E4%B8%8D%E5%A5%BD%E7%9A%84"><span class="nav-text">26.1.3 说点不好的</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0"><span class="nav-text">读书笔记</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%9C%AC%E4%B9%A6%E8%AF%84%E8%AE%BA"><span class="nav-text">本书评论</span></a></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">levon</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">272</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
        <span class="site-state-item-count">35</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
        <span class="site-state-item-count">13</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        
  <div class="beian"><a href="https://beian.miit.gov.cn/" rel="noopener" target="_blank">京ICP备20000727号-4 </a>
  </div>

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">levon</span>
</div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : true,
      appId      : 'GeP0yYVQfmJ224422VTor9HS-gzGzoHsz',
      appKey     : '6p5kFrCS2NlzNDNAEIy028No',
      placeholder: "看累了，评论一下吧。",
      avatar     : 'mm',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : true,
      lang       : 'zh-cn' || 'zh-cn',
      path       : location.pathname,
      recordIP   : true,
      serverURLs : ''
    });
  }, window.Valine);
});
</script>

</body>
</html>
